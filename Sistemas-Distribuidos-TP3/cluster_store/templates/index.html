<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Banco DistribuÃ­do</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        // Recarrega a pÃ¡gina a cada 3 segundos (3000 ms)
        setInterval(() => {
            window.location.reload();
        }, 1000);
    </script>
</head>
<body>
    <h1>Banco de Dados DistribuÃ­do</h1>

    <div class="node">
        ğŸ“Œ Este nÃ³: <b>{{ node_name }}</b> |
        PrimÃ¡rio: <b>{{ primary_node }}</b> |
        Status:
        {% set roles = [] %}
        
        {% if is_primary_create %}
            {% set _ = roles.append("ğŸ‘‘ PrimÃ¡rio de Create") %}
        {% else %}
            {% set _ = roles.append("ğŸ”„ RÃ©plica de Create") %}
        {% endif %}

        {% if is_primary_update %}
            {% set _ = roles.append("ğŸ‘‘ PrimÃ¡rio de Update") %}
        {% else %}
            {% set _ = roles.append("ğŸ”„ RÃ©plica de Update") %}
        {% endif %}

        {% if is_primary_delete %}
            {% set _ = roles.append("ğŸ‘‘ PrimÃ¡rio de Delete") %}
        {% else %}
            {% set _ = roles.append("ğŸ”„ RÃ©plica de Delete") %}
        {% endif %}

        {{ roles|join(" | ") }}
    </div>

    <table>
        <tr>
            <th>Cliente</th>
            <th>Valor</th>
        </tr>
        {% for value in clients_database %}
        <tr>
            <td>client-{{ loop.index0 }}</td>
            <td>{{ value if value else "-" }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
